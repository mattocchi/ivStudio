<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:widget="http://java.sun.com/jsf/composite/widget">
<head>
</head>
<body>

	<ui:composition template="/templates/page.xhtml">

		<ui:define name="content">

			<div class="container-fluid">

				<div class="row-fluid">
					<div class="span12">
						<fieldset>
							<legend>Linee (<widget:itemsnum backbean="#{beanLinee}"></widget:itemsnum>)</legend>
						</fieldset>
					</div>
				</div>

				<div class="row-fluid">
					<div class="span6">
						<div class="input-append">
							<h:inputText value="#{beanLinee.filtro.semeRicerca }" styleClass="input-medium"></h:inputText>
							<h:commandLink styleClass="btn" value="Cerca" action="#{beanLinee.actionCerca }"></h:commandLink>
						</div>
					</div>

					<div class="span6">
						<div class="pull-right">

							<h:link id="btnNuovo" styleClass="btn" outcome="modifica">
								<i class="fam-add"></i>
								<h:outputText value=" Nuova Linea"></h:outputText>
								<f:param name="id" value="0"></f:param>
							</h:link>
							
						</div>
					</div>


				</div>

				<h:panelGroup id="rowFiltri">
					<div class="row-fluid">
						<h:panelGroup id="filtri" layout="div" styleClass="row-fluid" rendered="#{beanLinee.filtri }">

						</h:panelGroup>
					</div>
				</h:panelGroup>

				<div class="row-fluid">
					<h:messages layout="list" styleClass="messagesList" errorClass="alert alert-error" infoClass="alert alert-info" warnClass="alert alert-warn"></h:messages>
				</div>

				<div class="row-fluid">
					<div class="pull-right">
						<widget:itemsnum backbean="#{beanLinee}"></widget:itemsnum>
					</div>
				</div>

				<div class="row-fluid">
					<!-- <p:dataTable value="#{beanLinee.elenco }" var="item" styleClass="table table-bordered table-striped table-hover"> -->
					<h:dataTable value="#{beanLinee.elenco }" var="item" styleClass="table table-bordered table-striped table-hover">

						<h:column>
							<f:facet name="header">ID Chiave 2^</f:facet>
							<h:outputText value="#{item.idChiave }"></h:outputText>
						</h:column>

						<h:column>
							<f:facet name="header">Nome</f:facet>
							<h:outputText value="#{item.nome }"></h:outputText>
							<!-- 							<h:link outcome="modifica" value="#{item.nome }">
								<f:param name="id" value="#{item.id }"></f:param>
							</h:link> -->
						</h:column>

						<h:column>
							<f:facet name="header">Codice</f:facet>
							<h:outputText value="#{item.codice }"></h:outputText>
						</h:column>

						<h:column>
							<f:facet name="header">Gruppo</f:facet>
							<h:outputText value="#{item.gruppo }"></h:outputText>
						</h:column>

						<h:column>
							<f:facet name="header">Moduli</f:facet>

							<ul>
								<ui:repeat var="modulo" value="#{beanLinee.elencoModuli(item.moduli) }" varStatus="status">
									<li><h:outputText value="#{modulo.nome}"></h:outputText></li>
								</ui:repeat>
							</ul>

						</h:column>



						<h:column>
							<f:facet name="header"></f:facet>
							<div class="pull-right">
								<h:link id="btnModifica" styleClass="btn btn-mini" outcome="modifica">
									<i class="fam-application-form-edit"></i>
									<h:outputText value=" Modifica"></h:outputText>
									<f:param name="id" value="#{item.id }"></f:param>
								</h:link>
							</div>
						</h:column>

					</h:dataTable>

				</div>

			</div>


		</ui:define>
	</ui:composition>

</body>
</html>
